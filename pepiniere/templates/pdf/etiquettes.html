<!DOCTYPE html>
<html lang="fr">
{% load static %}
{% load i18n %}
<head>
    <meta charset="UTF-8">
    <style>
        @import url(http://fonts.googleapis.com/css?family=Ubuntu);
        html, body {
            width: 210mm;
            height: 297mm;
            background-image: url({% static 'img/etiquette.jpg' %});
            background-size: cover;
            margin:0;
            font-family:Ubuntu;
            font-size:14px;
        }
        @media print {
            html, body {
                width: 210mm;
                height: 297mm;
                /*
                background-image: url({% static 'img/etiquette.jpg' %});
                background-size: cover;
                */
                margin:0;

                padding:0;

                font-family:Ubuntu;
                font-size:16px;
            }
            .commande {
                width:100%;
                height:19mm;
                display: block;
                line-height:19mm;
                background-color:rgba(0,255,0,.5);
                margin:0;
                margin-top:6mm;
                padding:0;
                padding-left:20mm;
            }
            .item {
                width:100%;
                height:19mm;
                display: block;
                line-height:19mm;
                background-color:rgba(255,255,0,.5);
                margin:0;
                padding:0;
                padding-left:5mm;
            }
            .commande-item {
                width:35%;
                display:grid;
                float:left;
                text-align:center;
            }
            .commande-produit {
                width:55%;
                display:grid;
                float:left;
                text-align:left;
            }
            .commande-qte {
                width:10%;
                display:grid;
                float:left;
            }
        }
        @page {
            size: A4;
            margin: 0;
            padding:0;
        }
        .commande {
            width:100%;
            height:19mm;
            display: block;
            line-height:19mm;
            background-color:rgba(0,255,0,.5);
            text-align:center;
        }
        .item {
            width:100%;
            height:19mm;
            display: block;
            line-height:19mm;
            background-color:rgba(255,255,0,.5);
            clear:both;
        }
        .commande-item {
            width:35%;
            display:grid;
            float:left;
            text-align:center;
        }
        .commande-produit {
            width:65%;
            display:grid;
            float:left;
            text-align:left;
        }
        @frame footer {
            -pdf-frame-content: footerContent;
        }
        body {
            font-family: var(--bs-font-sans-serif);
            font-size: 1.5rem;
            font-weight: 400;
            color: #212529;
        }
    </style>
    <title>Editions etiquettes</title>
</head>
<body>
{% for commande in commandes %}
    {% with client=commande.client %}
    <div class="commande">
        {{ commande.id}} | {{ client.nom }} {{ client.prenom }}
        {% if commande.frais %}
            {% with frais=commande.frais %}
                 | FRAIS : {{ frais.prix }} â‚¬
            {% endwith %}
        {% endif %}
    </div>
    {% endwith %}
    {% for item in orders %}
        {% if item.commande == commande %}
            <div class="item">
            {% with produit=item.produit %}
                <div class="commande-item">{{ commande.id}}</div>
                <div class="commande-produit">{{ item.qte }} &nbsp; x &nbsp; {{ produit.espece }} - {{ produit.variete }} - {{ produit.portegreffe }}</div>
            {% endwith %}
            </div>
        {% endif %}
    {% endfor %}
{% endfor %}
</body>
</html>